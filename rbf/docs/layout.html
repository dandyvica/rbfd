<html><head>
        <META http-equiv="content-type" content="text/html; charset=utf-8">
        <title>rbf.layout</title>
        </head><body>
        <h1>rbf.layout</h1>
        <!-- Generated by Ddoc from source/rbf/layout.d -->
<br><br>
<dl><dt><big><a name="Layout"></a>class <u>Layout</u>;
</big></dt>
<dd>This class build the list of records and fields from an XML definition file<br><br>

<dl><dt><big><a name="Layout.this"></a>this(string <i>xmlFile</i>);
</big></dt>
<dd>create all records based on the XML file structure
<br><br>
<b>Params:</b><br>
<table><tr><td>string <i>xmlFile</i></td>
<td>name of the record/field definition list</td></tr>
</table><br>
<b>Examples:</b><br>
<pre class="d_code">
<font color=blue>auto</font> l = <font color=blue>new</font> Layout(test_file);
assertThrown(<font color=blue>new</font> Layout(<font color=red>"foo.xml"</font>));
</pre>
<br><br>
</dd>
<dt><big><a name="Layout.records"></a>@property Record[string] <u>records</u>();
</big></dt>
<dd>associative array of all <u>records</u><br><br>

</dd>
<dt><big><a name="Layout.description"></a>@property string <u>description</u>();
</big></dt>
<dd>string <u>description</u> of the XML structure<br><br>
<b>Examples:</b><br>
<pre class="d_code">
<font color=blue>auto</font> l = <font color=blue>new</font> Layout(test_file);
<font color=blue>assert</font>(l.<u>description</u> == <font color=red>"Continents, countries, cities"</font>);
</pre>
<br><br>
</dd>
<dt><big><a name="Layout.length"></a>@property ulong <u>length</u>();
</big></dt>
<dd><u>length</u> of each record of the XML structure<br><br>

</dd>
<dt><big><a name="Layout.opIndex"></a>ref Record <u>opIndex</u>(string <i>recName</i>);
</big></dt>
<dd>[] operator to retrieve the record by name
<br><br>
<b>Params:</b><br>
<table><tr><td>string <i>recName</i></td>
<td>name of the record to retrieve</td></tr>
</table><br>
<b>Examples:</b><br>
<pre class="d_code">
<font color=blue>auto</font> l = <font color=blue>new</font> Layout(test_file);
<font color=blue>assert</font>(l.records.length == 2);
<font color=blue>assert</font>(l[<font color=red>"CONT"</font>].name == <font color=red>"CONT"</font>);
<font color=blue>assert</font>(l[<font color=red>"COUN"</font>].description == <font color=red>"Country data"</font>);
</pre>
<br><br>
</dd>
<dt><big><a name="Layout.opBinaryRight"></a>Field[]* <u>opBinaryRight</u>(string op)(string <i>fieldName</i>);
</big></dt>
<dd>test if a field name is present in layout (== in all records)
<br><br>
<b>Params:</b><br>
<table><tr><td>string <i>fieldName</i></td>
<td>name of the field to look for</td></tr>
</table><br>
<b>Examples:</b><br>
<pre class="d_code">
<font color=blue>auto</font> l = <font color=blue>new</font> Layout(test_file);
<font color=blue>assert</font>(<font color=red>"CAPITAL"</font> <font color=blue>in</font> l);
<font color=blue>assert</font>(<font color=red>"POPULATION"</font> <font color=blue>in</font> l);
<font color=blue>assert</font>(<font color=red>"FOO"</font> !<font color=blue>in</font> l);
</pre>
<br><br>
</dd>
<dt><big><a name="Layout.opApply"></a>int <u>opApply</u>(int delegate(ref Record) <i>dg</i>);
</big></dt>
<dd>to loop with foreach loop on all records of the layout
<br><br>

</dd>
<dt><big><a name="Layout.toString"></a>string <u>toString</u>();
</big></dt>
<dd>record definition for all records found
<br><br>

</dd>
<dt><big><a name="Layout.keepOnly"></a>void <u>keepOnly</u>(string[][string] <i>recordMap</i>);
</big></dt>
<dd>keep only fields specified for each record in the map
<br><br>
<b>Params:</b><br>
<table><tr><td>string[][string] <i>recordMap</i></td>
<td>associate array (key=record name, value=array of field names)</td></tr>
</table><br>
<b>Examples:</b><br>
<pre class="d_code">recList[<font color=red>"RECORD1"</font>] = [<font color=red>"FIELD1"</font>, <font color=red>"FIELD2"</font>];
layout.prunePerRecords(recList);
</pre>
<br><br>
<b>Examples:</b><br>
<pre class="d_code">
<font color=blue>auto</font> l = <font color=blue>new</font> Layout(test_file);
l.<u>keepOnly</u>([<font color=red>"CONT"</font>: [<font color=red>"NAME"</font>, <font color=red>"POPULATION"</font>], <font color=red>"COUN"</font>: [<font color=red>"CAPITAL"</font>]]);
<font color=blue>assert</font>(l[<font color=red>"CONT"</font>] == [<font color=red>"NAME"</font>, <font color=red>"POPULATION"</font>]);
<font color=blue>assert</font>(l[<font color=red>"COUN"</font>] == [<font color=red>"CAPITAL"</font>]);
</pre>
<br><br>
</dd>
<dt><big><a name="Layout.removeFromAllRecords"></a>void <u>removeFromAllRecords</u>(string[] <i>fieldList</i>);
</big></dt>
<dd>for each record, remove each field not in the list. If field
 is not in the record, just loop
<br><br>
<b>Params:</b><br>
<table><tr><td>string[] <i>fieldList</i></td>
<td>list of fields to get rid of</td></tr>
</table><br>
<b>Examples:</b><br>
<pre class="d_code">
<font color=blue>auto</font> l = <font color=blue>new</font> Layout(test_file);
l.<u>removeFromAllRecords</u>([<font color=red>"ID"</font>, <font color=red>"NAME"</font>, <font color=red>"POPULATION"</font>]);
<font color=blue>assert</font>(l[<font color=red>"CONT"</font>] == [<font color=red>"AREA"</font>, <font color=red>"DENSITY"</font>, <font color=red>"CITY"</font>]);
<font color=blue>assert</font>(l[<font color=red>"COUN"</font>] == [<font color=red>"CAPITAL"</font>]);
</pre>
<br><br>
</dd>
<dt><big><a name="Layout.validate"></a>void <u>validate</u>();
</big></dt>
<dd><u>validate</u> syntax: check if record length is matching file length
 is not in the record, just loop<br><br>

</dd>
</dl>
</dd>
</dl>

        <hr><small>Page generated by <a href="http://dlang.org/ddoc.html">Ddoc</a>. </small>
        </body></html>
